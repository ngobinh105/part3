{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","searchName","setSearchName","value","onChange","e","target","PersonForm","addNewPersons","newName","setNewName","number","setNumber","onSubmit","type","Persons","persons","onDelete","console","log","filter","person","name","toLowerCase","includes","map","onClick","id","baseUrl","getAll","axios","get","then","response","data","create","newPerson","post","update","updatedPerson","put","deleteUser","delete","Notification","message","error","className","App","useState","setPersons","setMessage","setError","useEffect","personService","preventDefault","existed","some","window","confirm","updateId","find","setTimeout","catch","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bfdd6f53.chunk.js","sourcesContent":["const Filter = ({ searchName, setSearchName }) => {\n  return (\n    <div>\n      filter shown with\n      <input\n        value={searchName}\n        onChange={(e) => setSearchName(e.target.value)}\n      />\n    </div>\n  )\n}\n\nexport default Filter\n","const PersonForm = ({\n  addNewPersons,\n  newName,\n  setNewName,\n  number,\n  setNumber,\n}) => {\n  return (\n    <div>\n      <form onSubmit={addNewPersons}>\n        <div>\n          name:{' '}\n          <input value={newName} onChange={(e) => setNewName(e.target.value)} />\n        </div>\n        <div>\n          number:{' '}\n          <input value={number} onChange={(e) => setNumber(e.target.value)} />\n        </div>\n        <div>\n          <button type='submit'>add</button>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default PersonForm\n","const Persons = ({ persons, searchName, onDelete }) => {\n  console.log('inside', persons)\n  return (\n    <div>\n      {' '}\n      {persons\n        .filter((person) =>\n          person.name.toLowerCase().includes(searchName.toLowerCase())\n        )\n        .map((person) => (\n          <p key={person.name}>\n            {person.name} {person.number}{' '}\n            <button onClick={() => onDelete(person.id)}>delete</button>\n          </p>\n        ))}\n    </div>\n  )\n}\n\nexport default Persons\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then((response) => response.data)\n}\nconst create = (newPerson) => {\n  const request = axios.post(baseUrl, newPerson)\n  return request.then((response) => response.data)\n}\nconst update = (id, updatedPerson) => {\n  const request = axios.put(`${baseUrl}/${id}`, updatedPerson)\n  return request.then((response) => response.data)\n}\nconst deleteUser = (id) => {\n  axios.delete(`${baseUrl}/${id}`)\n}\n\nconst persons = { getAll, create, update, deleteUser }\n\nexport default persons\n","const Notification = ({ message, error }) => {\n  if (message === null) {\n    return null\n  }\n\n  return <div className={error ? 'error' : 'message'}>{message}</div>\n}\n\nexport default Notification\n","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [number, setNumber] = useState('')\n  const [searchName, setSearchName] = useState('')\n  const [message, setMessage] = useState(null)\n  const [error, setError] = useState(false)\n\n  console.log('p', persons)\n\n  const addNewPersons = (e) => {\n    e.preventDefault()\n    const existed = persons.some(\n      (e) => e.name.toLowerCase() === newName.toLowerCase()\n    )\n    if (existed) {\n      if (\n        window.confirm(\n          `${newName} is already added to phonebook, replace the old number with a new one`\n        )\n      ) {\n        const updateId = persons.find(\n          (person) => person.name.toLowerCase() === newName.toLowerCase()\n        ).id\n        personService\n          .update(updateId, { name: newName, number: number })\n          .then((updatedPerson) => {\n            setPersons(\n              persons.map((person) =>\n                person.id === updateId ? updatedPerson : person\n              )\n            )\n            setMessage(`${newName} is updated`)\n            setError(false)\n            setTimeout(() => {\n              setMessage(null)\n            }, 5000)\n          })\n          .catch((error) => {\n            setMessage(`'${newName}' was already removed from server`)\n            setTimeout(() => {\n              setMessage(null)\n            }, 5000)\n            setError(true)\n          })\n      }\n    } else {\n      personService\n        .create({ name: newName, number: number })\n        .then((newPerson) => {\n          setPersons([...persons, newPerson])\n          setMessage(`${newName} is addded to phonebook`)\n          setError(false)\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n    }\n    setNumber('')\n    setNewName('')\n  }\n  const onDelete = (id) => {\n    if (\n      window.confirm(\n        `Delete ${persons.find((person) => person.id === id).name}`\n      )\n    ) {\n      personService.deleteUser(id)\n      setPersons(persons.filter((person) => person.id !== id))\n      setMessage(\n        `${\n          persons.find((person) => person.id === id).name\n        } has been successfully removed from the phonebook`\n      )\n      setError(false)\n      setTimeout(() => {\n        setMessage(null)\n      }, 5000)\n    }\n  }\n\n  useEffect(() => {\n    personService.getAll().then((persons) => {\n      console.log('personsssssss', persons)\n      setPersons(persons)\n    })\n  }, [])\n  return (\n    <div>\n      <h1>Phone book</h1>\n      <Notification message={message} error={error} />\n      <Filter searchName={searchName} setSearchName={setSearchName} />\n      <h3>Add a new</h3>\n      <PersonForm\n        addNewPersons={addNewPersons}\n        newName={newName}\n        setNewName={setNewName}\n        number={number}\n        setNumber={setNumber}\n      />\n      <h3>Numbers</h3>\n      <Persons persons={persons} searchName={searchName} onDelete={onDelete} />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}